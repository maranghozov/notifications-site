<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>My Notification Site</title>
  <link rel="manifest" href="/notifications-site/manifest.json">
  <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script>
  <script>
    // Make sure OneSignal is defined, even before the SDK loads
    window.OneSignal = window.OneSignal || [];
    window.OneSignal.push(function() {
      OneSignal.init({
        appId: "3ad849fc-6b63-4da6-a7ef-1ae18b77deb8",
        serviceWorkerPath: "/notifications-site/OneSignalSDKWorker.js",
        serviceWorkerParam: { scope: "/notifications-site/" }
      });
    });

    function askForPermission() {
      window.OneSignal.push(function() {
        OneSignal.isPushNotificationsEnabled(function(isEnabled) {
          if (!isEnabled) {
            OneSignal.showNativePrompt();  
          } else {
            alert("You have already enabled notifications.");
          }
        });
      });
    }
  </script>
</head>
<body>
  <h1>Welcome!</h1>
  <p>Click the button below to enable notifications:</p>
  <button onclick="askForPermission()">Enable Notifications</button>
</body>
</html>
